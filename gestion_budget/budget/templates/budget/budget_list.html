{% extends 'layouts/base.html' %}
{% block extra_css %}
<link rel="stylesheet" href="https:://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
{% endblock extra_css %}

{% block content %}
  
<div class="wrapper d-flex flex-column min-vh-100">
  <header class="header header-sticky p-0 mb-4">
    {% include 'includes/navbar.html' %}
    <div class="container-fluid px-4">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb my-0">
          <li class="breadcrumb-item"><a href="#">Home</a>
          </li>
          <li class="breadcrumb-item"><span>Components</span>
          </li>
          <li class="breadcrumb-item"><span>Base</span>
          </li>
          <li class="breadcrumb-item active"><span>Tables</span>
          </li>
        </ol>
      </nav>
    </div>
  </header>
  <div class="body flex-grow-1">
    <div class="container-fluid px-4">
      {% include 'includes/topbar.html' %}
      <div class="card mb-4">
        <div class="card-header">
            <strong>Tables</strong><span class="small ms-1">Striped rows</span>
            <a href="{% url 'budget_create' %}" class="btn btn-sm btn-primary" style="float: right;">Nouveau budget</a>
        </div>
        <div class="card-body overflow-auto"> 
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th scope="col">No</th>
                <th scope="col">Designation</th>
                <th scope="col">Montant</th>
                <th scope="col">Description</th>
                <th scope="col" width="15%">Action</th>
              </tr>
            </thead>
            <tbody>
              {% for row in budgets %}
              <tr>
              <th scope="row">{{forloop.counter}}</th>
                <td>{{row.designation}}</td>
                <td>{{row.montant}}</td>
                <td>{{row.description}}</td>
                <td>
                  <a class="btn btn-sm btn-outline-success mb-2" href="{% url 'budget_update' row.id %}"><i class="fa fa-check"></i>Modifier</a>
                  <a class="btn btn-sm btn-outline-danger mb-2" href="{% url 'budget_delete' row.id %}"><i class="fa fa-check"></i>Supprimer</a>
                </td>
              </tr>
              {% empty %}
              <tr>
                <td class="text-center" colspan="5">Aucun enregistrement</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  {% include "includes/footer.html" %}
</div>
{% endblock content %}
  

    